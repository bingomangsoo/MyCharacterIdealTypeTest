<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/result.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript">

        var imgURl;
        var charName;

        $(document).ready(function () {
            var index = location.href.substr(
                location.href.lastIndexOf('=') + 1
            );
            console.log('index : ' + index);

            if (index == 0) {
                $(".contain h2").after('<h3 class="result">< 란 나기사 ></h3>');
                $(".contain h3").after('<img src="img/란나기사.png"><br>');
                imgURl = "https://ifh.cc/g/fY8W1Z.jpg"
                charName = "란 나기사";
            } else if (index == 1) {
                $(".contain h2").after('<h3 class="result">< 철수 ></h3>');
                $(".contain h3").after('<img src="img/철수.jpg" width="100%"><br>');
                imgURl = "https://ifh.cc/g/xyRl7o.jpg"
                charName = "철수";
            } else if (index == 2) {
                $(".contain h2").after('<h3 class="result">< 기로로 ></h3>');
                $(".contain h3").after('<img src="img/기로로.png"><br>');
                imgURl = "https://ifh.cc/g/QJlr3z.jpg"
                charName = "기로로";
            } else if (index == 3) {
                $(".contain h2").after('<h3 class="result">< 케로로 ></h3>');
                $(".contain h3").after('<img src="img/케로로.jpg"><br>');
                imgURl = "https://ifh.cc/g/sfM40x.jpg"
                charName = "케로로";
            } else if (index == 4) {
                $(".contain h2").after('<h3 class="result">< 이누야샤 ></h3>');
                $(".contain h3").after('<img src="img/이누야샤.jpg"><br>');
                imgURl = "https://ifh.cc/g/8rZJ5L.jpg"
                charName = "이누야샤";
            } else if (index == 5) {
                $(".contain h2").after('<h3 class="result">< 셋쇼마루 ></h3>');
                $(".contain h3").after('<img src="img/셋쇼마루.jpeg"><br>');
                imgURl = "https://ifh.cc/g/64lJo3.jpg"
                charName = "셋쇼마루";
            } else if (index == 6) {
                $(".contain h2").after('<h3 class="result">< 고길동 ></h3>');
                $(".contain h3").after('<img src="img/고길동.jpg"><br>');
                imgURl = "https://ifh.cc/g/vPyOGL.jpg"
                charName = "고길동";
            } else if (index == 7) {
                $(".contain h2").after('<h3 class="result">< 카제하야 ></h3>');
                $(".contain h3").after('<img src="img/카제하야.png"><br>');
                imgURl = "https://ifh.cc/g/4ZQ4Os.jpg"
                charName = "카제하야";
            } else if (index == 8) {
                $(".contain h2").after('<h3 class="result">< 리바이 ></h3>');
                $(".contain h3").after('<img src="img/리바이.png"><br>');
                imgURl = "https://ifh.cc/g/bJVw0A.jpg"
                charName = "리바이";
            } else if (index == 9) {
                $(".contain h2").after('<h3 class="result">< 노진구 ></h3>');
                $(".contain h3").after('<img src="img/노진구.jpg"><br>');
                imgURl = "https://ifh.cc/g/A1fSdJ.jpg"
                charName = "노진구";
            } else if (index == 10) {
                $(".contain h2").after('<h3 class="result">< 비실이 ></h3>');
                $(".contain h3").after('<img src="img/비실이.png"><br>');
                imgURl = "https://ifh.cc/g/qhsJJD.jpg"
                charName = "비실이";
            } else if (index == 11) {
                $(".contain h2").after('<h3 class="result">< 원가온 ></h3>');
                $(".contain h3").after('<img src="img/원가온.png"><br>');
                imgURl = "https://ifh.cc/g/nwQAMA.jpg"
                charName = "원가온";
            } else if (index == 12) {
                $(".contain h2").after('<h3 class="result">< 피에르 ></h3>');
                $(".contain h3").after('<img src="img/피에르.jpg"><br>');
                imgURl = "https://ifh.cc/g/gKBGsF.jpg"
                charName = "피에르";
            } else if (index == 13) {
                $(".contain h2").after('<h3 class="result">< 웅이 ></h3>');
                $(".contain h3").after('<img src="img/웅이.jpg"><br>');
                imgURl = "https://ifh.cc/g/Lj8qos.jpg"
                charName = "웅이";
            } else if (index == 14) {
                $(".contain h2").after('<h3 class="result">< 철이 ></h3>');
                $(".contain h3").after('<img src="img/철이.jpg"><br>');
                imgURl = "https://ifh.cc/g/DsT1N5.jpg"
                charName = "철이";
            } else if (index == 15) {
                $(".contain h2").after('<h3 class="result">< 샤오랑 ></h3>');
                $(".contain h3").after('<img src="img/샤오랑.png"><br>');
                imgURl = "https://ifh.cc/g/fbXcZq.jpg"
                charName = "샤오랑";
            } else if (index == 16) {
                $(".contain h2").after('<h3 class="result">< 훈이 ></h3>');
                $(".contain h3").after('<img src="img/훈이.png"><br>');
                imgURl = "https://ifh.cc/g/ldoRyz.jpg"
                charName = "훈이";
            } else if (index == 17) {
                $(".contain h2").after('<h3 class="result">< 루피 ></h3>');
                $(".contain h3").after('<img src="img/루피.png"><br>');
                imgURl = "https://ifh.cc/g/S0npQG.jpg"
                charName = "루피";
            }
        });
    </script>

    <script>

        var thisUrl = document.URL;

        function shareTwitter() {

            var url = "http://twitter.com/share?url=" + encodeURIComponent(thisUrl) + "&text=" + encodeURIComponent("나의 캐릭터 이상형 테스트 결과는 " + charName);
            window.open(url);
        }

        function toast() {
            var textarea = document.createElement("textarea");
            document.body.appendChild(textarea)
            textarea.value = thisUrl;
            textarea.select();
            document.execCommand("copy");
            document.body.removeChild(textarea);

            let removeToast;
            const toast = document.getElementById("toast");
            toast.classList.contains("reveal") ?
                (clearTimeout(removeToast), removeToast = setTimeout(function () {
                    document.getElementById("toast").classList.remove("reveal")
                }, 1000)) :
                removeToast = setTimeout(function () {
                    document.getElementById("toast").classList.remove("reveal")
                }, 1000)
            toast.classList.add("reveal"),
                toast.innerText = "copy success"
        }

    </script>

    <!--카카오톡 공유하기-->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js"
        integrity="sha384-dpu02ieKC6NUeKFoGMOKz6102CLEWi9+5RQjWSV0ikYSFFd8M3Wp2reIcquJOemx"
        crossorigin="anonymous"></script>

    <script>
        Kakao.init('1a1a92ce334e83a10aa1385f54c4ae87'); // 사용하려는 앱의 JavaScript 키 입력
    </script>

    <script>
        function shareKakao() {
            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: '이상형 캐릭터 테스트',
                    description: '이상형 캐릭터는 ' + charName + ' \n나의 이상형 캐릭터는?',
                    imageUrl: imgURl
                    ,
                    link: {
                        mobileWebUrl: thisUrl,
                        webUrl: thisUrl,
                    },
                },
                buttons: [
                    {
                        title: '테스트 하러가기',
                        link: {
                            mobileWebUrl: thisUrl,
                            webUrl: thisUrl,
                        },
                    }
                ],
            });
        }
    </script>
    <style>

    </style>
</head>

<body>
    <div class="contain">
        <h2>당신의 이상형은...</h2>
        <h4>공유하기</h4>
        <a id="btnTwitter" class="link twitter" href="javascript:shareTwitter()">트위터</a>
        <a id="btnKakao" class="link kakao" href="javascript:shareKakao()">카카오톡</a>
        <a id="btnURL" class="link url" href="javascript:toast()">URL</a>
        <br><br>
        <a id="btnRe" class="link re" href="index.html">다시하기</a>
    </div>
    <div id="toast"></div>
</body>

</html>